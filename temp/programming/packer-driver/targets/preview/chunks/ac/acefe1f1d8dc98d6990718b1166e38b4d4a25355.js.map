{"version":3,"sources":["file:///E:/git/Cramped_Room_Of_Death/assets/scripts/player/PlayerStateMachine.ts"],"names":["_decorator","Animation","ENTITY_STATE_ENUM","PARAMS_NAME_ENUM","getInitParamsNumber","getInitParamsTrigger","StateMachine","TurnLeftSubStateMachine","IdleSubStateMachine","TurnRightSubStateMachine","BlockFrontSubStateMachine","EntityManager","BlockTurnLeftSubStateMachine","BlockLeftSubStateMachine","BlockBackSubStateMachine","BlockTurnRightSubStateMachine","BlockRightSubStateMachine","DeadSubStateMachine","AttackSubStateMachine","AirDeathSubStateMachine","ccclass","property","PlayerStateMachine","init","animationComponent","addComponent","initParams","initStateMachine","initAnimationEvent","Promise","all","waitingList","params","set","IDLE","TURNLEFT","TURNRIGHT","DIRECTION","BLOCKFRONT","BLOCKLEFT","BLOCKBACK","BLOCKRIGHT","BLOCKTURNLEFT","BLOCKTURNRIGHT","DEATH","AIRDEATH","ATTACK","stateMachine","on","EventType","FINISHED","name","defaultClip","whiteList","some","v","includes","node","getComponent","state","run","_currentState","get","value","currentState"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAA2BC,MAAAA,S,OAAAA,S;;AAC3BC,MAAAA,iB,iBAAAA,iB;AAAyCC,MAAAA,gB,iBAAAA,gB;;AAEzCC,MAAAA,mB,iBAAAA,mB;AAAqBC,MAAAA,oB,iBAAAA,oB;AAAsBC,MAAAA,Y,iBAAAA,Y;;AAC7CC,MAAAA,uB;;AACAC,MAAAA,mB;;AACAC,MAAAA,wB;;AACAC,MAAAA,yB;;AAEEC,MAAAA,a,iBAAAA,a;;AACFC,MAAAA,4B;;AACAC,MAAAA,wB;;AACAC,MAAAA,wB;;AACAC,MAAAA,6B;;AACAC,MAAAA,yB;;AACAC,MAAAA,mB;;AACAC,MAAAA,qB;;AACAC,MAAAA,uB;;;;;;;;;OACD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBrB,U;;oCAGjBsB,kB,WADZF,OAAO,CAAC,oBAAD,C,gBAAR,MACaE,kBADb;AAAA;AAAA,wCACqD;AAE3CC,QAAAA,IAAI,GAAE;AAAA;;AAAA;AACR;AACA,YAAA,KAAI,CAACC,kBAAL,GAA0B,KAAI,CAACC,YAAL,CAAkBxB,SAAlB,CAA1B;;AAEA,YAAA,KAAI,CAACyB,UAAL;;AACA,YAAA,KAAI,CAACC,gBAAL,GALQ,CAMR;;;AACA,YAAA,KAAI,CAACC,kBAAL;;AACA,kBAAMC,OAAO,CAACC,GAAR,CAAY,KAAI,CAACC,WAAjB,CAAN;AARQ;AASX;;AAEDL,QAAAA,UAAU,GAAE;AACR,eAAKM,MAAL,CAAYC,GAAZ,CAAgB;AAAA;AAAA,oDAAiBC,IAAjC,EAAuC;AAAA;AAAA,6DAAvC;AACA,eAAKF,MAAL,CAAYC,GAAZ,CAAgB;AAAA;AAAA,oDAAiBE,QAAjC,EAA2C;AAAA;AAAA,6DAA3C;AACA,eAAKH,MAAL,CAAYC,GAAZ,CAAgB;AAAA;AAAA,oDAAiBG,SAAjC,EAA4C;AAAA;AAAA,6DAA5C;AACA,eAAKJ,MAAL,CAAYC,GAAZ,CAAgB;AAAA;AAAA,oDAAiBI,SAAjC,EAA4C;AAAA;AAAA,2DAA5C;AACA,eAAKL,MAAL,CAAYC,GAAZ,CAAgB;AAAA;AAAA,oDAAiBK,UAAjC,EAA6C;AAAA;AAAA,6DAA7C;AACA,eAAKN,MAAL,CAAYC,GAAZ,CAAgB;AAAA;AAAA,oDAAiBM,SAAjC,EAA4C;AAAA;AAAA,6DAA5C;AACA,eAAKP,MAAL,CAAYC,GAAZ,CAAgB;AAAA;AAAA,oDAAiBO,SAAjC,EAA4C;AAAA;AAAA,6DAA5C;AACA,eAAKR,MAAL,CAAYC,GAAZ,CAAgB;AAAA;AAAA,oDAAiBQ,UAAjC,EAA6C;AAAA;AAAA,6DAA7C;AACA,eAAKT,MAAL,CAAYC,GAAZ,CAAgB;AAAA;AAAA,oDAAiBS,aAAjC,EAAgD;AAAA;AAAA,6DAAhD;AACA,eAAKV,MAAL,CAAYC,GAAZ,CAAgB;AAAA;AAAA,oDAAiBU,cAAjC,EAAiD;AAAA;AAAA,6DAAjD;AACA,eAAKX,MAAL,CAAYC,GAAZ,CAAgB;AAAA;AAAA,oDAAiBW,KAAjC,EAAwC;AAAA;AAAA,6DAAxC;AACA,eAAKZ,MAAL,CAAYC,GAAZ,CAAgB;AAAA;AAAA,oDAAiBY,QAAjC,EAA2C;AAAA;AAAA,6DAA3C;AACA,eAAKb,MAAL,CAAYC,GAAZ,CAAgB;AAAA;AAAA,oDAAiBa,MAAjC,EAAyC;AAAA;AAAA,6DAAzC;AACH;;AAEDnB,QAAAA,gBAAgB,GAAE;AACd,eAAKoB,YAAL,CAAkBd,GAAlB,CAAsB;AAAA;AAAA,oDAAiBC,IAAvC,EAA6C;AAAA;AAAA,0DAAwB,IAAxB,CAA7C;AACA,eAAKa,YAAL,CAAkBd,GAAlB,CAAsB;AAAA;AAAA,oDAAiBE,QAAvC,EAAiD;AAAA;AAAA,kEAA4B,IAA5B,CAAjD;AACA,eAAKY,YAAL,CAAkBd,GAAlB,CAAsB;AAAA;AAAA,oDAAiBG,SAAvC,EAAkD;AAAA;AAAA,oEAA6B,IAA7B,CAAlD;AACA,eAAKW,YAAL,CAAkBd,GAAlB,CAAsB;AAAA;AAAA,oDAAiBK,UAAvC,EAAmD;AAAA;AAAA,sEAA8B,IAA9B,CAAnD;AACA,eAAKS,YAAL,CAAkBd,GAAlB,CAAsB;AAAA;AAAA,oDAAiBM,SAAvC,EAAkD;AAAA;AAAA,oEAA6B,IAA7B,CAAlD;AACA,eAAKQ,YAAL,CAAkBd,GAAlB,CAAsB;AAAA;AAAA,oDAAiBO,SAAvC,EAAkD;AAAA;AAAA,oEAA6B,IAA7B,CAAlD;AACA,eAAKO,YAAL,CAAkBd,GAAlB,CAAsB;AAAA;AAAA,oDAAiBQ,UAAvC,EAAmD;AAAA;AAAA,sEAA8B,IAA9B,CAAnD;AACA,eAAKM,YAAL,CAAkBd,GAAlB,CAAsB;AAAA;AAAA,oDAAiBS,aAAvC,EAAsD;AAAA;AAAA,4EAAiC,IAAjC,CAAtD;AACA,eAAKK,YAAL,CAAkBd,GAAlB,CAAsB;AAAA;AAAA,oDAAiBU,cAAvC,EAAuD;AAAA;AAAA,8EAAkC,IAAlC,CAAvD;AACA,eAAKI,YAAL,CAAkBd,GAAlB,CAAsB;AAAA;AAAA,oDAAiBW,KAAvC,EAA8C;AAAA;AAAA,0DAAwB,IAAxB,CAA9C;AACA,eAAKG,YAAL,CAAkBd,GAAlB,CAAsB;AAAA;AAAA,oDAAiBY,QAAvC,EAAiD;AAAA;AAAA,kEAA4B,IAA5B,CAAjD;AACA,eAAKE,YAAL,CAAkBd,GAAlB,CAAsB;AAAA;AAAA,oDAAiBa,MAAvC,EAA+C;AAAA;AAAA,8DAA0B,IAA1B,CAA/C;AACH;;AAGDlB,QAAAA,kBAAkB,GAAE;AAChB;AACA,eAAKJ,kBAAL,CAAwBwB,EAAxB,CAA2B/C,SAAS,CAACgD,SAAV,CAAoBC,QAA/C,EAAyD,MAAI;AACzD,gBAAMC,IAAI,GAAG,KAAK3B,kBAAL,CAAwB4B,WAAxB,CAAoCD,IAAjD;AACA,gBAAME,SAAS,GAAG,CAAC,OAAD,EAAS,MAAT,EAAiB,QAAjB,CAAlB;;AACA,gBAAGA,SAAS,CAACC,IAAV,CAAeC,CAAC,IAAIJ,IAAI,CAACK,QAAL,CAAcD,CAAd,CAApB,CAAH,EAAyC;AACrC,mBAAKE,IAAL,CAAUC,YAAV;AAAA;AAAA,kDAAsCC,KAAtC,GAA8C;AAAA;AAAA,0DAAkBzB,IAAhE;AACH;AACJ,WAND;AAOH;;AAGD0B,QAAAA,GAAG,GAAE;AACD;AACR;AACA;AACA;AACA;AACA;AACA;AAEQ,kBAAO,KAAKC,aAAZ;AACI,iBAAK,KAAKd,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,sDAAiBxB,UAAvC,CAAL;AACA,iBAAK,KAAKS,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,sDAAiBvB,SAAvC,CAAL;AACA,iBAAK,KAAKQ,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,sDAAiBtB,SAAvC,CAAL;AACA,iBAAK,KAAKO,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,sDAAiBrB,UAAvC,CAAL;AACA,iBAAK,KAAKM,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,sDAAiBpB,aAAvC,CAAL;AACA,iBAAK,KAAKK,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,sDAAiBnB,cAAvC,CAAL;AACA,iBAAK,KAAKI,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,sDAAiB3B,QAAvC,CAAL;AACA,iBAAK,KAAKY,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,sDAAiB1B,SAAvC,CAAL;AACA,iBAAK,KAAKW,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,sDAAiB5B,IAAvC,CAAL;AACA,iBAAK,KAAKa,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,sDAAiBlB,KAAvC,CAAL;AACA,iBAAK,KAAKG,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,sDAAiBjB,QAAvC,CAAL;AACA,iBAAK,KAAKE,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,sDAAiBhB,MAAvC,CAAL;AACI,kBAAG,KAAKd,MAAL,CAAY8B,GAAZ,CAAgB;AAAA;AAAA,wDAAiBhB,MAAjC,EAAyCiB,KAA5C,EAAkD;AAC9C,qBAAKC,YAAL,GAAoB,KAAKjB,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,0DAAiBhB,MAAvC,CAApB;AACH,eAFD,MAGK,IAAG,KAAKd,MAAL,CAAY8B,GAAZ,CAAgB;AAAA;AAAA,wDAAiBjB,QAAjC,EAA2CkB,KAA9C,EAAoD;AACrD,qBAAKC,YAAL,GAAoB,KAAKjB,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,0DAAiBjB,QAAvC,CAApB;AACH,eAFI,MAGA,IAAG,KAAKb,MAAL,CAAY8B,GAAZ,CAAgB;AAAA;AAAA,wDAAiBlB,KAAjC,EAAwCmB,KAA3C,EAAiD;AAClD,qBAAKC,YAAL,GAAoB,KAAKjB,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,0DAAiBlB,KAAvC,CAApB;AACH,eAFI,MAGA,IAAG,KAAKZ,MAAL,CAAY8B,GAAZ,CAAgB;AAAA;AAAA,wDAAiBpB,aAAjC,EAAgDqB,KAAnD,EAAyD;AAC1D,qBAAKC,YAAL,GAAoB,KAAKjB,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,0DAAiBpB,aAAvC,CAApB;AACH,eAFI,MAGA,IAAG,KAAKV,MAAL,CAAY8B,GAAZ,CAAgB;AAAA;AAAA,wDAAiBnB,cAAjC,EAAiDoB,KAApD,EAA0D;AAC3D,qBAAKC,YAAL,GAAoB,KAAKjB,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,0DAAiBnB,cAAvC,CAApB;AACH,eAFI,MAGA,IAAG,KAAKX,MAAL,CAAY8B,GAAZ,CAAgB;AAAA;AAAA,wDAAiBxB,UAAjC,EAA6CyB,KAAhD,EAAsD;AACvD,qBAAKC,YAAL,GAAoB,KAAKjB,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,0DAAiBxB,UAAvC,CAApB;AACH,eAFI,MAGA,IAAG,KAAKN,MAAL,CAAY8B,GAAZ,CAAgB;AAAA;AAAA,wDAAiBvB,SAAjC,EAA4CwB,KAA/C,EAAqD;AACtD,qBAAKC,YAAL,GAAoB,KAAKjB,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,0DAAiBvB,SAAvC,CAApB;AACH,eAFI,MAGA,IAAG,KAAKP,MAAL,CAAY8B,GAAZ,CAAgB;AAAA;AAAA,wDAAiBtB,SAAjC,EAA4CuB,KAA/C,EAAqD;AACtD,qBAAKC,YAAL,GAAoB,KAAKjB,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,0DAAiBtB,SAAvC,CAApB;AACH,eAFI,MAGA,IAAG,KAAKR,MAAL,CAAY8B,GAAZ,CAAgB;AAAA;AAAA,wDAAiBrB,UAAjC,EAA6CsB,KAAhD,EAAsD;AACvD,qBAAKC,YAAL,GAAoB,KAAKjB,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,0DAAiBrB,UAAvC,CAApB;AACH,eAFI,MAGA,IAAG,KAAKT,MAAL,CAAY8B,GAAZ,CAAgB;AAAA;AAAA,wDAAiB3B,QAAjC,EAA2C4B,KAA9C,EAAoD;AACrD,qBAAKC,YAAL,GAAoB,KAAKjB,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,0DAAiB3B,QAAvC,CAApB;AACH,eAFI,MAGA,IAAG,KAAKH,MAAL,CAAY8B,GAAZ,CAAgB;AAAA;AAAA,wDAAiB1B,SAAjC,EAA4C2B,KAA/C,EAAqD;AACtD,qBAAKC,YAAL,GAAoB,KAAKjB,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,0DAAiB1B,SAAvC,CAApB;AACH,eAFI,MAGA,IAAG,KAAKJ,MAAL,CAAY8B,GAAZ,CAAgB;AAAA;AAAA,wDAAiB5B,IAAjC,EAAuC6B,KAA1C,EAAgD;AACjD,qBAAKC,YAAL,GAAoB,KAAKjB,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,0DAAiB5B,IAAvC,CAApB;AACH,eAFI,MAGD;AACA,qBAAK8B,YAAL,GAAoB,KAAKA,YAAzB;AACH;;AACD;;AACJ;AACI,mBAAKA,YAAL,GAAoB,KAAKjB,YAAL,CAAkBe,GAAlB,CAAsB;AAAA;AAAA,wDAAiB5B,IAAvC,CAApB;AAtDR;AAwDH;;AA1HgD,O","sourcesContent":["import { _decorator, AnimationClip, Animation, Component, SpriteFrame} from 'cc';\r\nimport { ENTITY_STATE_ENUM, FSM_PARAMS_TYPE_ENUM, PARAMS_NAME_ENUM } from '../../enums';\r\nimport State from '../../base/State';\r\nimport { getInitParamsNumber, getInitParamsTrigger, StateMachine } from '../../base/StateMachine';\r\nimport TurnLeftSubStateMachine from './TurnLeftSubStateMachine';\r\nimport IdleSubStateMachine from './IdleSubStateMachine';\r\nimport TurnRightSubStateMachine from './TurnRightSubStateMachine';\r\nimport BlockFrontSubStateMachine from './BlockFrontSubStateMachine';\r\nimport { PlayerManager } from './PlayerManager';\r\nimport { EntityManager } from '../../base/EntityManager';\r\nimport BlockTurnLeftSubStateMachine from './BlockTurnLeftSubStateMachine';\r\nimport BlockLeftSubStateMachine from './BlockLeftSubStateMachine';\r\nimport BlockBackSubStateMachine from './BlockBackSubStateMachine';\r\nimport BlockTurnRightSubStateMachine from './BlockTurnRightSubStateMachine';\r\nimport BlockRightSubStateMachine from './BlockRightSubStateMachine';\r\nimport DeadSubStateMachine from './DeadSubStateMachine';\r\nimport AttackSubStateMachine from './AttackSubStateMachine';\r\nimport AirDeathSubStateMachine from './AirDeathSubStateMachine';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PlayerStateMachine')\r\nexport class PlayerStateMachine extends StateMachine {\r\n\r\n    async init(){\r\n        //添加animation组件\r\n        this.animationComponent = this.addComponent(Animation);\r\n\r\n        this.initParams();\r\n        this.initStateMachine();\r\n        //等待所有资源加载完毕，才结束init\r\n        this.initAnimationEvent();\r\n        await Promise.all(this.waitingList);\r\n    }\r\n\r\n    initParams(){\r\n        this.params.set(PARAMS_NAME_ENUM.IDLE, getInitParamsTrigger());\r\n        this.params.set(PARAMS_NAME_ENUM.TURNLEFT, getInitParamsTrigger());\r\n        this.params.set(PARAMS_NAME_ENUM.TURNRIGHT, getInitParamsTrigger());\r\n        this.params.set(PARAMS_NAME_ENUM.DIRECTION, getInitParamsNumber());\r\n        this.params.set(PARAMS_NAME_ENUM.BLOCKFRONT, getInitParamsTrigger());\r\n        this.params.set(PARAMS_NAME_ENUM.BLOCKLEFT, getInitParamsTrigger());\r\n        this.params.set(PARAMS_NAME_ENUM.BLOCKBACK, getInitParamsTrigger());\r\n        this.params.set(PARAMS_NAME_ENUM.BLOCKRIGHT, getInitParamsTrigger());\r\n        this.params.set(PARAMS_NAME_ENUM.BLOCKTURNLEFT, getInitParamsTrigger());\r\n        this.params.set(PARAMS_NAME_ENUM.BLOCKTURNRIGHT, getInitParamsTrigger());\r\n        this.params.set(PARAMS_NAME_ENUM.DEATH, getInitParamsTrigger());\r\n        this.params.set(PARAMS_NAME_ENUM.AIRDEATH, getInitParamsTrigger());\r\n        this.params.set(PARAMS_NAME_ENUM.ATTACK, getInitParamsTrigger());\r\n    }\r\n\r\n    initStateMachine(){\r\n        this.stateMachine.set(PARAMS_NAME_ENUM.IDLE, new IdleSubStateMachine(this));\r\n        this.stateMachine.set(PARAMS_NAME_ENUM.TURNLEFT, new TurnLeftSubStateMachine(this));\r\n        this.stateMachine.set(PARAMS_NAME_ENUM.TURNRIGHT, new TurnRightSubStateMachine(this));\r\n        this.stateMachine.set(PARAMS_NAME_ENUM.BLOCKFRONT, new BlockFrontSubStateMachine(this));\r\n        this.stateMachine.set(PARAMS_NAME_ENUM.BLOCKLEFT, new BlockLeftSubStateMachine(this));\r\n        this.stateMachine.set(PARAMS_NAME_ENUM.BLOCKBACK, new BlockBackSubStateMachine(this));\r\n        this.stateMachine.set(PARAMS_NAME_ENUM.BLOCKRIGHT, new BlockRightSubStateMachine(this));\r\n        this.stateMachine.set(PARAMS_NAME_ENUM.BLOCKTURNLEFT, new BlockTurnLeftSubStateMachine(this));\r\n        this.stateMachine.set(PARAMS_NAME_ENUM.BLOCKTURNRIGHT, new BlockTurnRightSubStateMachine(this));\r\n        this.stateMachine.set(PARAMS_NAME_ENUM.DEATH, new DeadSubStateMachine(this));\r\n        this.stateMachine.set(PARAMS_NAME_ENUM.AIRDEATH, new AirDeathSubStateMachine(this));\r\n        this.stateMachine.set(PARAMS_NAME_ENUM.ATTACK, new AttackSubStateMachine(this));\r\n    }\r\n\r\n\r\n    initAnimationEvent(){\r\n        //注册动画播放结束事件，检测\r\n        this.animationComponent.on(Animation.EventType.FINISHED, ()=>{\r\n            const name = this.animationComponent.defaultClip.name;\r\n            const whiteList = ['block','turn', 'attack'];\r\n            if(whiteList.some(v => name.includes(v))){\r\n                this.node.getComponent(EntityManager).state = ENTITY_STATE_ENUM.IDLE;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    run(){\r\n        /*\r\n        1.判断一下当前是什么状态；\r\n        2.如果当前处于某个状态，接下来判断参数列表；\r\n        3.如果某个触发器处于触发状态，那么就需要进行状态的改变，就从对应状态机列表那里取到对应的\r\n            状态机，并设置当前状态为改变后的状态\r\n        4.使用set方式，可以在set里面调用当前状态的run方法走对应的逻辑\r\n\r\n         */\r\n        switch(this._currentState){\r\n            case this.stateMachine.get(PARAMS_NAME_ENUM.BLOCKFRONT):\r\n            case this.stateMachine.get(PARAMS_NAME_ENUM.BLOCKLEFT):\r\n            case this.stateMachine.get(PARAMS_NAME_ENUM.BLOCKBACK):\r\n            case this.stateMachine.get(PARAMS_NAME_ENUM.BLOCKRIGHT):\r\n            case this.stateMachine.get(PARAMS_NAME_ENUM.BLOCKTURNLEFT):\r\n            case this.stateMachine.get(PARAMS_NAME_ENUM.BLOCKTURNRIGHT):\r\n            case this.stateMachine.get(PARAMS_NAME_ENUM.TURNLEFT):\r\n            case this.stateMachine.get(PARAMS_NAME_ENUM.TURNRIGHT):\r\n            case this.stateMachine.get(PARAMS_NAME_ENUM.IDLE):\r\n            case this.stateMachine.get(PARAMS_NAME_ENUM.DEATH):\r\n            case this.stateMachine.get(PARAMS_NAME_ENUM.AIRDEATH):\r\n            case this.stateMachine.get(PARAMS_NAME_ENUM.ATTACK):\r\n                if(this.params.get(PARAMS_NAME_ENUM.ATTACK).value){\r\n                    this.currentState = this.stateMachine.get(PARAMS_NAME_ENUM.ATTACK);\r\n                }\r\n                else if(this.params.get(PARAMS_NAME_ENUM.AIRDEATH).value){\r\n                    this.currentState = this.stateMachine.get(PARAMS_NAME_ENUM.AIRDEATH);\r\n                }\r\n                else if(this.params.get(PARAMS_NAME_ENUM.DEATH).value){\r\n                    this.currentState = this.stateMachine.get(PARAMS_NAME_ENUM.DEATH);\r\n                }\r\n                else if(this.params.get(PARAMS_NAME_ENUM.BLOCKTURNLEFT).value){\r\n                    this.currentState = this.stateMachine.get(PARAMS_NAME_ENUM.BLOCKTURNLEFT);\r\n                }\r\n                else if(this.params.get(PARAMS_NAME_ENUM.BLOCKTURNRIGHT).value){\r\n                    this.currentState = this.stateMachine.get(PARAMS_NAME_ENUM.BLOCKTURNRIGHT);\r\n                }\r\n                else if(this.params.get(PARAMS_NAME_ENUM.BLOCKFRONT).value){\r\n                    this.currentState = this.stateMachine.get(PARAMS_NAME_ENUM.BLOCKFRONT);\r\n                }\r\n                else if(this.params.get(PARAMS_NAME_ENUM.BLOCKLEFT).value){\r\n                    this.currentState = this.stateMachine.get(PARAMS_NAME_ENUM.BLOCKLEFT);\r\n                }\r\n                else if(this.params.get(PARAMS_NAME_ENUM.BLOCKBACK).value){\r\n                    this.currentState = this.stateMachine.get(PARAMS_NAME_ENUM.BLOCKBACK);\r\n                }\r\n                else if(this.params.get(PARAMS_NAME_ENUM.BLOCKRIGHT).value){\r\n                    this.currentState = this.stateMachine.get(PARAMS_NAME_ENUM.BLOCKRIGHT);\r\n                }\r\n                else if(this.params.get(PARAMS_NAME_ENUM.TURNLEFT).value){\r\n                    this.currentState = this.stateMachine.get(PARAMS_NAME_ENUM.TURNLEFT);\r\n                }\r\n                else if(this.params.get(PARAMS_NAME_ENUM.TURNRIGHT).value){\r\n                    this.currentState = this.stateMachine.get(PARAMS_NAME_ENUM.TURNRIGHT);\r\n                }\r\n                else if(this.params.get(PARAMS_NAME_ENUM.IDLE).value){\r\n                    this.currentState = this.stateMachine.get(PARAMS_NAME_ENUM.IDLE);\r\n                }\r\n                else{\r\n                    this.currentState = this.currentState;\r\n                }\r\n                break;\r\n            default:\r\n                this.currentState = this.stateMachine.get(PARAMS_NAME_ENUM.IDLE);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}