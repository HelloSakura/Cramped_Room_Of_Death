{"version":3,"sources":["file:///E:/git/Cramped_Room_Of_Death/assets/scripts/player/AttackSubStateMachine.ts"],"names":["AttackSubStateMachine","AnimationClip","State","ANIMATION_SPEED","DIRECTION_ENUM","SHAKE_TYPE_ENUM","DirectionSubStateMachine","BASE_URL","constructor","fsm","stateMachine","set","TOP","WrapMode","Normal","frame","func","params","BOTTOM","LEFT","RIGHT"],"mappings":";;;iLAOqBA,qB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAHZC,MAAAA,a,OAAAA,a;;AAJFC,MAAAA,K;AAASC,MAAAA,e,iBAAAA,e;;AAEPC,MAAAA,c,iBAAAA,c;AAAgBC,MAAAA,e,iBAAAA,e;;AAClBC,MAAAA,wB;;;;;;;;;AAGDC,MAAAA,Q,GAAW,uB;;yBACIP,qB,GAAN,MAAMA,qBAAN;AAAA;AAAA,gEAA6D;AACxEQ,QAAAA,WAAW,CAACC,GAAD,EAAoB;AAC3B,gBAAMA,GAAN;AACA,eAAKC,YAAL,CAAkBC,GAAlB,CACI;AAAA;AAAA,gDAAeC,GADnB,EAEI;AAAA;AAAA,8BAAUH,GAAV,EAAkBF,QAAlB,WAAkCN,aAAa,CAACY,QAAd,CAAuBC,MAAzD;AAAA;AAAA,kDAAkF,CAAC;AAC/EC,YAAAA,KAAK,EAAE;AAAA;AAAA,sDAAkB,CADsD;AACnD;AAC5BC,YAAAA,IAAI,EAAE,eAFyE;AAG/EC,YAAAA,MAAM,EAAE,CAAC;AAAA;AAAA,oDAAgBL,GAAjB;AAHuE,WAAD,CAAlF,CAFJ;AAQA,eAAKF,YAAL,CAAkBC,GAAlB,CACI;AAAA;AAAA,gDAAeO,MADnB,EAEI;AAAA;AAAA,8BAAUT,GAAV,EAAkBF,QAAlB,cAAqCN,aAAa,CAACY,QAAd,CAAuBC,MAA5D;AAAA;AAAA,kDAAqF,CAAC;AAClFC,YAAAA,KAAK,EAAE;AAAA;AAAA,sDAAkB,CADyD;AACtD;AAC5BC,YAAAA,IAAI,EAAE,eAF4E;AAGlFC,YAAAA,MAAM,EAAE,CAAC;AAAA;AAAA,oDAAgBC,MAAjB;AAH0E,WAAD,CAArF,CAFJ;AAQA,eAAKR,YAAL,CAAkBC,GAAlB,CACI;AAAA;AAAA,gDAAeQ,IADnB,EAEI;AAAA;AAAA,8BAAUV,GAAV,EAAkBF,QAAlB,YAAmCN,aAAa,CAACY,QAAd,CAAuBC,MAA1D;AAAA;AAAA,kDAAmF,CAAC;AAChFC,YAAAA,KAAK,EAAE;AAAA;AAAA,sDAAkB,CADuD;AACpD;AAC5BC,YAAAA,IAAI,EAAE,eAF0E;AAGhFC,YAAAA,MAAM,EAAE,CAAC;AAAA;AAAA,oDAAgBE,IAAjB;AAHwE,WAAD,CAAnF,CAFJ;AAQA,eAAKT,YAAL,CAAkBC,GAAlB,CACI;AAAA;AAAA,gDAAeS,KADnB,EAEI;AAAA;AAAA,8BAAUX,GAAV,EAAkBF,QAAlB,aAAoCN,aAAa,CAACY,QAAd,CAAuBC,MAA3D;AAAA;AAAA,kDAAoF,CAAC;AACjFC,YAAAA,KAAK,EAAE;AAAA;AAAA,sDAAkB,CADwD;AACrD;AAC5BC,YAAAA,IAAI,EAAE,eAF2E;AAGjFC,YAAAA,MAAM,EAAE,CAAC;AAAA;AAAA,oDAAgBG,KAAjB;AAHyE,WAAD,CAApF,CAFJ;AAQH;;AAnCuE,O","sourcesContent":["import State, { ANIMATION_SPEED } from \"../../base/State\";\r\nimport { StateMachine } from \"../../base/StateMachine\";\r\nimport { DIRECTION_ENUM, SHAKE_TYPE_ENUM } from \"../../enums\";\r\nimport DirectionSubStateMachine from \"../../base/DirectionSubStateMachine\";\r\nimport { AnimationClip } from \"cc\";\r\n\r\nconst BASE_URL = \"texture/player/attack\"\r\nexport default class AttackSubStateMachine extends DirectionSubStateMachine {\r\n    constructor(fsm: StateMachine) {\r\n        super(fsm);\r\n        this.stateMachine.set(\r\n            DIRECTION_ENUM.TOP,\r\n            new State(fsm, `${BASE_URL}/top`, AnimationClip.WrapMode.Normal, ANIMATION_SPEED, [{\r\n                frame: ANIMATION_SPEED * 4, //第5帧\r\n                func: 'onAttackShake',\r\n                params: [SHAKE_TYPE_ENUM.TOP],\r\n            }])\r\n        );\r\n        this.stateMachine.set(\r\n            DIRECTION_ENUM.BOTTOM, \r\n            new State(fsm, `${BASE_URL}/bottom`, AnimationClip.WrapMode.Normal, ANIMATION_SPEED, [{\r\n                frame: ANIMATION_SPEED * 4, //第5帧\r\n                func: 'onAttackShake',\r\n                params: [SHAKE_TYPE_ENUM.BOTTOM],\r\n            }])\r\n        );\r\n        this.stateMachine.set(\r\n            DIRECTION_ENUM.LEFT, \r\n            new State(fsm, `${BASE_URL}/left`, AnimationClip.WrapMode.Normal, ANIMATION_SPEED, [{\r\n                frame: ANIMATION_SPEED * 4, //第5帧\r\n                func: 'onAttackShake',\r\n                params: [SHAKE_TYPE_ENUM.LEFT],\r\n            }])\r\n        );\r\n        this.stateMachine.set(\r\n            DIRECTION_ENUM.RIGHT, \r\n            new State(fsm, `${BASE_URL}/right`, AnimationClip.WrapMode.Normal, ANIMATION_SPEED, [{\r\n                frame: ANIMATION_SPEED * 4, //第5帧\r\n                func: 'onAttackShake',\r\n                params: [SHAKE_TYPE_ENUM.RIGHT],\r\n            }])\r\n        );\r\n    }\r\n}"]}