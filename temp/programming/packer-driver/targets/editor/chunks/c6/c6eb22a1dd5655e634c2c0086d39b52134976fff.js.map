{"version":3,"sources":["file:///E:/git/Cramped_Room_Of_Death/assets/scripts/scenes/LoadingManager.ts"],"names":["_decorator","Component","director","ProgressBar","resources","FadeManager","SCENE_ENUM","ccclass","property","LoadingManager","onLoad","loadDir","cur","total","bar","progress","loadScene","Start","_handleStart","Instance","fadeIn","Battle"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Q,OAAAA,Q;AAAgBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,S,OAAAA,S;;AACtDC,MAAAA,W;;AACEC,MAAAA,U,iBAAAA,U;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;gCAGjBS,c,WADZF,OAAO,CAAC,gBAAD,C,UAEHC,QAAQ,CAACL,WAAD,C,2BAFb,MACaM,cADb,SACoCR,SADpC,CAC8C;AAAA;AAAA;;AAAA;AAAA;;AAI1CS,QAAAA,MAAM,GAAE;AACJN,UAAAA,SAAS,CAACO,OAAV,CAAkB,SAAlB,EAA6B,CAACC,GAAD,EAAMC,KAAN,KAAc;AACvC,iBAAKC,GAAL,CAASC,QAAT,GAAoBH,GAAG,GAACC,KAAxB;AACH,WAFD,EAGA,MAAI;AACAX,YAAAA,QAAQ,CAACc,SAAT,CAAmB;AAAA;AAAA,0CAAWC,KAA9B;AACH,WALD;AAMH;;AAEyB,cAAZC,YAAY,GAAE;AACxB,gBAAM;AAAA;AAAA,0CAAYC,QAAZ,CAAqBC,MAArB,CAA4B,GAA5B,CAAN;AACAlB,UAAAA,QAAQ,CAACc,SAAT,CAAmB;AAAA;AAAA,wCAAWK,MAA9B;AACH;;AAhByC,O;;;;;iBAExB,I","sourcesContent":["import { _decorator, Component, director, Node, ProgressBar, resources } from \"cc\";\r\nimport FadeManager from \"../../runtime/FadeManager\";\r\nimport { SCENE_ENUM } from \"../../enums\";\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('LoadingManager')\r\nexport class LoadingManager extends Component {\r\n    @property(ProgressBar)\r\n    bar:ProgressBar = null;\r\n\r\n    onLoad(){\r\n        resources.loadDir('texture', (cur, total)=>{\r\n            this.bar.progress = cur/total;\r\n        },\r\n        ()=>{\r\n            director.loadScene(SCENE_ENUM.Start);\r\n        })\r\n    }\r\n\r\n    private async _handleStart(){\r\n        await FadeManager.Instance.fadeIn(300);\r\n        director.loadScene(SCENE_ENUM.Battle);\r\n    }\r\n}"]}