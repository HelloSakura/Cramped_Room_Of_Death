{"version":3,"sources":["file:///E:/git/Cramped_Room_Of_Death/assets/scripts/tile/TileManger.ts"],"names":["_decorator","Component","Sprite","UITransform","TILE_TYPE_ENUM","ccclass","property","TILE_WIDTH","TILE_HEIGHT","TileManger","type","moveable","turnable","init","spriteFrame","i","j","WALL_COLUMN","WALL_LEFT_BOTTOM","WALL_LEFT_TOP","WALL_RIGHT_BOTTOM","WALL_RIGHT_TOP","WALL_ROW","CLIFF_CENTER","CLIFF_LEFT","CLIFF_RIGHT","FLOOR","sprite","node","addComponent","transform","getComponent","setContentSize","setPosition"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,M,OAAAA,M;AAAqBC,MAAAA,W,OAAAA,W;;AAC5CC,MAAAA,c,iBAAAA,c;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U,GAG9B;;4BACaO,U,GAAa,E;;6BACbC,W,GAAc,E;;4BAEdC,U,WADZJ,OAAO,CAAC,YAAD,C,gBAAR,MACaI,UADb,SACgCR,SADhC,CAC0C;AAAA;AAAA;AAAA,eACtCS,IADsC;AAAA,eAEtCC,QAFsC;AAAA,eAGtCC,QAHsC;AAAA;;AAItCC,QAAAA,IAAI,CAACH,IAAD,EAAuBI,WAAvB,EAAkDC,CAAlD,EAA4DC,CAA5D,EAAqE;AACrE,eAAKN,IAAL,GAAYA,IAAZ;;AACA,cACG,KAAKA,IAAL,KAAc;AAAA;AAAA,gDAAeO,WAA7B,IACA,KAAKP,IAAL,KAAc;AAAA;AAAA,gDAAeQ,gBAD7B,IAEA,KAAKR,IAAL,KAAc;AAAA;AAAA,gDAAeS,aAF7B,IAGA,KAAKT,IAAL,KAAc;AAAA;AAAA,gDAAeU,iBAH7B,IAIA,KAAKV,IAAL,KAAc;AAAA;AAAA,gDAAeW,cAJ7B,IAKA,KAAKX,IAAL,KAAc;AAAA;AAAA,gDAAeY,QANhC,EAOC;AACG;AACA,iBAAKX,QAAL,GAAgB,KAAhB;AACA,iBAAKC,QAAL,GAAgB,KAAhB;AACH,WAXD,MAYK,IACF,KAAKF,IAAL,KAAc;AAAA;AAAA,gDAAea,YAA7B,IACA,KAAKb,IAAL,KAAc;AAAA;AAAA,gDAAec,UAD7B,IAEA,KAAKd,IAAL,KAAc;AAAA;AAAA,gDAAee,WAH3B,EAIJ;AACG;AACA,iBAAKd,QAAL,GAAgB,KAAhB;AACA,iBAAKC,QAAL,GAAgB,IAAhB;AACH,WARI,MASA,IAAG,KAAKF,IAAL,KAAc;AAAA;AAAA,gDAAegB,KAAhC,EAAsC;AACvC;AACA,iBAAKd,QAAL,GAAgB,IAAhB;AACA,iBAAKD,QAAL,GAAgB,IAAhB;AACH;;AAGD,gBAAMgB,MAAM,GAAG,KAAKC,IAAL,CAAUC,YAAV,CAAuB3B,MAAvB,CAAf;AACAyB,UAAAA,MAAM,CAACb,WAAP,GAAqBA,WAArB,CA/BqE,CAiCrE;;AACA,gBAAMgB,SAAS,GAAG,KAAKC,YAAL,CAAkB5B,WAAlB,CAAlB;AACA2B,UAAAA,SAAS,CAACE,cAAV,CAAyBzB,UAAzB,EAAqCC,WAArC,EAnCqE,CAqCrE;;AACA,eAAKoB,IAAL,CAAUK,WAAV,CAAsBlB,CAAC,GAACR,UAAxB,EAAoC,CAACS,CAAD,GAAGR,WAAvC;AACH;;AA3CqC,O","sourcesContent":["import { _decorator, Component, Sprite, SpriteFrame, UITransform } from 'cc';\r\nimport { TILE_TYPE_ENUM } from '../../enums';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n//瓦片尺寸\r\nexport const TILE_WIDTH = 55;\r\nexport const TILE_HEIGHT = 55;\r\n@ccclass('TileManger')\r\nexport class TileManger extends Component {\r\n    type: TILE_TYPE_ENUM;\r\n    moveable: boolean;\r\n    turnable: boolean;\r\n    init(type: TILE_TYPE_ENUM, spriteFrame : SpriteFrame, i:number, j:number){      \r\n        this.type = type;\r\n        if(\r\n           this.type === TILE_TYPE_ENUM.WALL_COLUMN\r\n        || this.type === TILE_TYPE_ENUM.WALL_LEFT_BOTTOM\r\n        || this.type === TILE_TYPE_ENUM.WALL_LEFT_TOP\r\n        || this.type === TILE_TYPE_ENUM.WALL_RIGHT_BOTTOM\r\n        || this.type === TILE_TYPE_ENUM.WALL_RIGHT_TOP\r\n        || this.type === TILE_TYPE_ENUM.WALL_ROW\r\n        ){\r\n            //墙壁不可走也不可转\r\n            this.moveable = false;\r\n            this.turnable = false;\r\n        }\r\n        else if(\r\n           this.type === TILE_TYPE_ENUM.CLIFF_CENTER\r\n        || this.type === TILE_TYPE_ENUM.CLIFF_LEFT\r\n        || this.type === TILE_TYPE_ENUM.CLIFF_RIGHT \r\n        ){\r\n            //悬崖可转但不可走\r\n            this.moveable = false;\r\n            this.turnable = true;\r\n        }\r\n        else if(this.type === TILE_TYPE_ENUM.FLOOR){\r\n            //地板可转可走\r\n            this.turnable = true;\r\n            this.moveable = true;\r\n        }\r\n\r\n        \r\n        const sprite = this.node.addComponent(Sprite);\r\n        sprite.spriteFrame = spriteFrame         \r\n\r\n        //添加UI组件定义大小\r\n        const transform = this.getComponent(UITransform);\r\n        transform.setContentSize(TILE_WIDTH, TILE_HEIGHT);\r\n\r\n        //设置位置\r\n        this.node.setPosition(i*TILE_WIDTH, -j*TILE_HEIGHT);\r\n    }\r\n}\r\n\r\n\r\n"]}